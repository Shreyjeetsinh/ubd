<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <title>Shopping Store</title>
</head>
<style>
    img:hover {
        transform: scale(1.1);
        transition: all 0.3s ease-in-out;
    }
</style>

<body>

    <nav class="navbar navbar-expand-lg bg-body-tertiary bg-dark" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">UbD</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    
                </ul>
                 <a href="cart.html" class="btn btn-outline-light position-relative">
        <i class="bi bi-cart3 fs-4"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" id="cartCount">
          0
        </span>
      </a>
             
            </div>
        </div>
    </nav>
    <div class="container text-center">
        <div class="row align-items-start"id="productList">
            <!-- <div class="col">
                <div class="card m-4" style="width: 18rem;">
                    <img src="t-1.avif" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title" id="ptitle1">Printed cotton rugby shirt</h5>
                        <p class="card-text">
                            <strong id="pprice1">
                                Rs. 1,299.00
                            </strong><br>
                            <span id="pdes1">MRP inclusive of all taxes</span><br>
                            <span id="pcolor1"> Color:Navy blue/Striped
                            </span>
                        </p>
                        <label for="sizeSelect" class="form-label">Choose Size:</label>
                        <select class="form-select-sm mb-3" id="sizeSelect">
                            <option selected disabled> Select </option>
                            <option value="S">S</option>
                            <option value="M">M</option>
                            <option value="L">L</option>
                            <option value="XL">XL</option>
                            <option value="XXL">XXL</option>
                        </select>
                        <br>
                        <button type="submit" class="btn btn-dark" onclick="showToast()">Add to cart</button>
                    </div>
                </div>
            </div> -->
        
        </div>
        <!-- Toast container -->
<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1100">
  <div id="cartToast" class="toast align-items-center text-bg-success border-0" role="alert">
    <div class="d-flex">
      <div class="toast-body">
            Item added to cart successfully!
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
    </div>
  </div>
</div>


</body>
<script>
    const products = [
  {
    title: "Printed cotton rugby shirt",
    price: 1299,
    des: "MRP inclusive of all taxes",
    color: "Navy blue/Striped",
    img: "t-1.avif"
  },
  {
    title: "Cotton shirt",
    price: 799,
    des: "MRP inclusive of all taxes",
    color: "Light Blue",
    img: "t-2.avif"
  },
  {
    title: "Cotton shirt",
    price: 799,
    des: "MRP inclusive of all taxes",
    color: "White",
    img: "t-3.avif"
  }
];
const container = document.getElementById("productList");

products.forEach((p, index) => {
  container.innerHTML += `
    <div class="col">
      <div class="card m-4" style="width: 18rem;">
        <img src="${p.img}" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">${p.title}</h5>
          <p class="card-text">
            <strong>$${p.price}</strong><br>
            <span>${p.des}</span><br>
            <span>Color: ${p.color}</span>
          </p>
          <label for="sizeSelect${index}" class="form-label">Choose Size:</label>
          <select class="form-select-sm mb-3" id="sizeSelect${index}">
            <option selected disabled>Select</option>
            <option value="S">S</option>
            <option value="M">M</option>
            <option value="L">L</option>
            <option value="XL">XL</option>
            <option value="XXL">XXL</option>
          </select>
          <br>
          <button type="button" class="btn btn-dark"
            onclick="addToCart(${index})">Add to cart</button>
        </div>
      </div>
    </div>
  `;
});
function showToast() {
  const toastEl = document.getElementById('cartToast');
  const toast = new bootstrap.Toast(toastEl, { delay: 2000 }); // auto close in 2 sec
  toast.show();
}

function updateCartCount() {
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  document.getElementById("cartCount").innerText = cart.length;
}
updateCartCount();
function addToCart(index) {
  const p = products[index];
  const size = document.getElementById("sizeSelect" + index).value;

  if (!size || size === "Select") {
Swal.fire({
  toast: true,
  position: 'bottom-end',
  icon: 'warning',
  title: 'Please choose a size!',
  showConfirmButton: false,
  timer: 2000,
  timerProgressBar: true
});


    return;
  }

  const product = {
    title: p.title,
    price: p.price,
    priceText: p.priceText,
    des: p.des,
    color: p.color,
    size: size,
    img: p.img,
    qty: 1
  };

  // get old cart or empty
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  cart.push(product);

  localStorage.setItem("cart", JSON.stringify(cart));
    updateCartCount();

  showToast();
}

</script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.min.js"
    integrity="sha384-7qAoOXltbVP82dhxHAUje59V5r2YsVfBafyUDxEdApLPmcdhBPg1DKg1ERo0BZlK"
    crossorigin="anonymous"></script>

</html>